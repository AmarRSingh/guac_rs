<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: channel_state Pages: 1 -->
<svg width="730pt" height="1267pt"
 viewBox="0.00 0.00 730.10 1266.52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1262.5153)">
<title>channel_state</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1262.5153 726.0964,-1262.5153 726.0964,4 -4,4"/>
<!-- prop -->
<g id="node1" class="node">
<title>prop</title>
<ellipse fill="none" stroke="#000000" cx="151.0964" cy="-1121.9487" rx="37.6017" ry="37.6017"/>
<text text-anchor="middle" x="151.0964" y="-1118.8487" font-family="Times,serif" font-size="12.00" fill="#000000">Proposed</text>
</g>
<!-- pendc -->
<g id="node3" class="node">
<title>pendc</title>
<ellipse fill="none" stroke="#000000" cx="59.0964" cy="-903.3611" rx="59.1929" ry="59.1929"/>
<text text-anchor="middle" x="59.0964" y="-900.2611" font-family="Times,serif" font-size="12.00" fill="#000000">Pending creation</text>
</g>
<!-- prop&#45;&gt;pendc -->
<g id="edge2" class="edge">
<title>prop&#45;&gt;pendc</title>
<path fill="none" stroke="#000000" d="M115.2379,-1109.7186C95.5253,-1100.9563 72.7635,-1087.0118 61.0964,-1066.3979 45.0618,-1038.0677 43.0297,-1002.29 45.6554,-971.4728"/>
<polygon fill="#000000" stroke="#000000" points="49.1674,-971.536 46.711,-961.2299 42.2042,-970.8184 49.1674,-971.536"/>
<text text-anchor="middle" x="139.5964" y="-1055.1979" font-family="Times,serif" font-size="14.00" fill="#000000">If we are the proposing node</text>
</g>
<!-- pendingoc -->
<g id="node7" class="node">
<title>pendingoc</title>
<ellipse fill="none" stroke="#000000" cx="247.0964" cy="-1006.9277" rx="26.4405" ry="26.4405"/>
<text text-anchor="middle" x="247.0964" y="-1003.8277" font-family="Times,serif" font-size="12.00" fill="#000000">Open</text>
</g>
<!-- prop&#45;&gt;pendingoc -->
<g id="edge3" class="edge">
<title>prop&#45;&gt;pendingoc</title>
<path fill="none" stroke="#000000" d="M183.1164,-1102.2142C196.5343,-1092.7008 211.4544,-1080.3269 222.0964,-1066.3979 227.6789,-1059.0912 232.252,-1050.3543 235.889,-1041.8562"/>
<polygon fill="#000000" stroke="#000000" points="239.185,-1043.0386 239.6015,-1032.452 232.674,-1040.4683 239.185,-1043.0386"/>
<text text-anchor="middle" x="313.0964" y="-1055.1979" font-family="Times,serif" font-size="14.00" fill="#000000">If they are the proposing node</text>
</g>
<!-- new -->
<g id="node2" class="node">
<title>new</title>
<ellipse fill="none" stroke="#000000" cx="151.0964" cy="-1234.5074" rx="24.0158" ry="24.0158"/>
<text text-anchor="middle" x="151.0964" y="-1231.4074" font-family="Times,serif" font-size="12.00" fill="#000000">New</text>
</g>
<!-- new&#45;&gt;prop -->
<g id="edge1" class="edge">
<title>new&#45;&gt;prop</title>
<path fill="none" stroke="#000000" d="M151.0964,-1210.3608C151.0964,-1198.5093 151.0964,-1183.7989 151.0964,-1169.8003"/>
<polygon fill="#000000" stroke="#000000" points="154.5965,-1169.7839 151.0964,-1159.7839 147.5965,-1169.784 154.5965,-1169.7839"/>
<text text-anchor="middle" x="303.0964" y="-1181.2996" font-family="Times,serif" font-size="14.00" fill="#000000">when we recieve a payment ot want to create a payment</text>
</g>
<!-- joined -->
<g id="node4" class="node">
<title>joined</title>
<ellipse fill="none" stroke="#000000" cx="261.0964" cy="-547.5913" rx="28.8653" ry="28.8653"/>
<text text-anchor="middle" x="261.0964" y="-544.4913" font-family="Times,serif" font-size="12.00" fill="#000000">Joined</text>
</g>
<!-- pendc&#45;&gt;joined -->
<g id="edge5" class="edge">
<title>pendc&#45;&gt;joined</title>
<path fill="none" stroke="#000000" d="M47.1528,-845.2721C43.2447,-813.0864 42.9808,-773.0792 57.0964,-740.3243 91.859,-659.658 178.8286,-597.0245 227.2356,-567.0299"/>
<polygon fill="#000000" stroke="#000000" points="229.0836,-570.0025 235.8042,-561.8121 225.4428,-564.0238 229.0836,-570.0025"/>
<text text-anchor="middle" x="157.0964" y="-744.1243" font-family="Times,serif" font-size="14.00" fill="#000000">When new channel TX goes through</text>
</g>
<!-- initchall -->
<g id="node9" class="node">
<title>initchall</title>
<ellipse fill="none" stroke="#000000" cx="261.0964" cy="-383.3233" rx="84.1712" ry="84.1712"/>
<text text-anchor="middle" x="261.0964" y="-380.2233" font-family="Times,serif" font-size="12.00" fill="#000000">Challenging counterparty</text>
</g>
<!-- joined&#45;&gt;initchall -->
<g id="edge8" class="edge">
<title>joined&#45;&gt;initchall</title>
<path fill="none" stroke="#000000" d="M261.0964,-518.6016C261.0964,-506.9272 261.0964,-492.7424 261.0964,-478.0057"/>
<polygon fill="#000000" stroke="#000000" points="264.5965,-477.7392 261.0964,-467.7392 257.5965,-477.7392 264.5965,-477.7392"/>
<text text-anchor="middle" x="316.0964" y="-489.4587" font-family="Times,serif" font-size="14.00" fill="#000000">When out of money</text>
</g>
<!-- chall -->
<g id="node10" class="node">
<title>chall</title>
<ellipse fill="none" stroke="#000000" cx="488.0964" cy="-383.3233" rx="60.8863" ry="60.8863"/>
<text text-anchor="middle" x="488.0964" y="-380.2233" font-family="Times,serif" font-size="12.00" fill="#000000">Being challenged</text>
</g>
<!-- joined&#45;&gt;chall -->
<g id="edge10" class="edge">
<title>joined&#45;&gt;chall</title>
<path fill="none" stroke="#000000" d="M288.935,-539.7077C313.0517,-532.0723 348.1977,-518.9578 375.0964,-500.6587 400.0873,-483.6574 423.9066,-460.4011 443.1768,-439.0757"/>
<polygon fill="#000000" stroke="#000000" points="446.0401,-441.1224 450.0642,-431.3215 440.8065,-436.4738 446.0401,-441.1224"/>
<text text-anchor="middle" x="437.5964" y="-489.4587" font-family="Times,serif" font-size="14.00" fill="#000000">when challenged</text>
</g>
<!-- pendj -->
<g id="node5" class="node">
<title>pendj</title>
<ellipse fill="none" stroke="#000000" cx="261.0964" cy="-674.9241" rx="47.3006" ry="47.3006"/>
<text text-anchor="middle" x="261.0964" y="-671.8241" font-family="Times,serif" font-size="12.00" fill="#000000">Pending join</text>
</g>
<!-- pendj&#45;&gt;joined -->
<g id="edge7" class="edge">
<title>pendj&#45;&gt;joined</title>
<path fill="none" stroke="#000000" d="M261.0964,-627.51C261.0964,-614.1418 261.0964,-599.749 261.0964,-586.9112"/>
<polygon fill="#000000" stroke="#000000" points="264.5964,-586.5497 261.0964,-576.5497 257.5964,-586.5498 264.5964,-586.5497"/>
<text text-anchor="middle" x="359.0964" y="-598.3239" font-family="Times,serif" font-size="14.00" fill="#000000">When new joining TX goes through</text>
</g>
<!-- open -->
<g id="node6" class="node">
<title>open</title>
<ellipse fill="none" stroke="#000000" cx="261.0964" cy="-799.7945" rx="26.4405" ry="26.4405"/>
<text text-anchor="middle" x="261.0964" y="-796.6945" font-family="Times,serif" font-size="12.00" fill="#000000">Open</text>
</g>
<!-- open&#45;&gt;pendj -->
<g id="edge6" class="edge">
<title>open&#45;&gt;pendj</title>
<path fill="none" stroke="#000000" d="M261.0964,-773.3127C261.0964,-761.4454 261.0964,-746.9492 261.0964,-732.7703"/>
<polygon fill="#000000" stroke="#000000" points="264.5965,-732.5441 261.0964,-722.5441 257.5965,-732.5442 264.5965,-732.5441"/>
<text text-anchor="middle" x="435.5964" y="-744.1243" font-family="Times,serif" font-size="14.00" fill="#000000">When we run out of money in channel (and have not joined yet)</text>
</g>
<!-- open&#45;&gt;chall -->
<g id="edge9" class="edge">
<title>open&#45;&gt;chall</title>
<path fill="none" stroke="#000000" d="M287.7584,-798.4027C365.8196,-794.0579 589.7376,-779.5685 611.0964,-755.3243 692.3902,-663.0478 597.5172,-515.5738 534.7563,-436.8868"/>
<polygon fill="#000000" stroke="#000000" points="537.4169,-434.6105 528.412,-429.0281 531.9702,-439.0076 537.4169,-434.6105"/>
<text text-anchor="middle" x="676.5964" y="-598.3239" font-family="Times,serif" font-size="14.00" fill="#000000">when challenged</text>
</g>
<!-- pendingoc&#45;&gt;open -->
<g id="edge4" class="edge">
<title>pendingoc&#45;&gt;open</title>
<path fill="none" stroke="#000000" d="M248.8979,-980.2727C251.3709,-943.6853 255.8267,-877.7597 258.6141,-836.52"/>
<polygon fill="#000000" stroke="#000000" points="262.1193,-836.5605 259.3017,-826.3472 255.1352,-836.0884 262.1193,-836.5605"/>
<text text-anchor="middle" x="398.5964" y="-899.6611" font-family="Times,serif" font-size="14.00" fill="#000000">When they tell us the new channel TX goes through</text>
</g>
<!-- closed -->
<g id="node8" class="node">
<title>closed</title>
<ellipse fill="none" stroke="#000000" cx="484.0964" cy="-30.7794" rx="30.5603" ry="30.5603"/>
<text text-anchor="middle" x="484.0964" y="-27.6794" font-family="Times,serif" font-size="12.00" fill="#000000">Closed</text>
</g>
<!-- updatetx -->
<g id="node11" class="node">
<title>updatetx</title>
<ellipse fill="none" stroke="#000000" cx="410.0964" cy="-180.2733" rx="67.9298" ry="67.9298"/>
<text text-anchor="middle" x="410.0964" y="-177.1733" font-family="Times,serif" font-size="12.00" fill="#000000">Pending update TX</text>
</g>
<!-- initchall&#45;&gt;updatetx -->
<g id="edge11" class="edge">
<title>initchall&#45;&gt;updatetx</title>
<path fill="none" stroke="#000000" d="M259.5768,-298.8249C262.0088,-287.2218 265.9586,-275.9043 272.0964,-265.9878 287.3653,-241.3186 312.6453,-222.635 337.4256,-209.1099"/>
<polygon fill="#000000" stroke="#000000" points="339.2727,-212.0937 346.5131,-204.3588 336.0295,-205.8903 339.2727,-212.0937"/>
<text text-anchor="middle" x="348.5964" y="-269.7878" font-family="Times,serif" font-size="14.00" fill="#000000">When challenge TX is done</text>
</g>
<!-- chall&#45;&gt;updatetx -->
<g id="edge12" class="edge">
<title>chall&#45;&gt;updatetx</title>
<path fill="none" stroke="#000000" d="M457.0328,-330.5935C448.7397,-314.9933 440.3548,-297.628 434.0964,-280.9878 431.1629,-273.1883 428.5048,-264.9107 426.1186,-256.5841"/>
<polygon fill="#000000" stroke="#000000" points="429.4596,-255.5326 423.4421,-246.8125 422.7083,-257.3819 429.4596,-255.5326"/>
<text text-anchor="middle" x="483.5964" y="-269.7878" font-family="Times,serif" font-size="14.00" fill="#000000">if being scammed</text>
</g>
<!-- closetx -->
<g id="node12" class="node">
<title>closetx</title>
<ellipse fill="none" stroke="#000000" cx="559.0964" cy="-180.2733" rx="62.5805" ry="62.5805"/>
<text text-anchor="middle" x="559.0964" y="-177.1733" font-family="Times,serif" font-size="12.00" fill="#000000">Pending close TX</text>
</g>
<!-- chall&#45;&gt;closetx -->
<g id="edge13" class="edge">
<title>chall&#45;&gt;closetx</title>
<path fill="none" stroke="#000000" d="M516.8152,-329.3372C524.1733,-314.0114 531.562,-297.1029 537.0964,-280.9878 540.2791,-271.7203 543.1068,-261.8102 545.5856,-251.9562"/>
<polygon fill="#000000" stroke="#000000" points="549.0093,-252.6885 547.9484,-242.1469 542.2039,-251.0492 549.0093,-252.6885"/>
<text text-anchor="middle" x="570.5964" y="-269.7878" font-family="Times,serif" font-size="14.00" fill="#000000">if fastclose</text>
</g>
<!-- updatetx&#45;&gt;closed -->
<g id="edge15" class="edge">
<title>updatetx&#45;&gt;closed</title>
<path fill="none" stroke="#000000" d="M428.3297,-114.8592C432.7607,-102.7849 438.0118,-90.5341 444.0964,-79.5587 447.5214,-73.3806 451.7597,-67.2192 456.1841,-61.4582"/>
<polygon fill="#000000" stroke="#000000" points="459.1714,-63.3295 462.7265,-53.3489 453.7234,-58.9342 459.1714,-63.3295"/>
<text text-anchor="middle" x="485.0964" y="-83.3587" font-family="Times,serif" font-size="14.00" fill="#000000">when TX done</text>
</g>
<!-- closetx&#45;&gt;closed -->
<g id="edge14" class="edge">
<title>closetx&#45;&gt;closed</title>
<path fill="none" stroke="#000000" d="M543.3785,-119.2454C538.7439,-105.7434 533.0138,-91.8175 526.0964,-79.5587 522.3961,-73.0013 517.7344,-66.5168 512.8736,-60.521"/>
<polygon fill="#000000" stroke="#000000" points="515.3451,-58.0252 506.1935,-52.6869 510.0186,-62.5671 515.3451,-58.0252"/>
<text text-anchor="middle" x="573.0964" y="-83.3587" font-family="Times,serif" font-size="14.00" fill="#000000">when TX done</text>
</g>
</g>
</svg>
